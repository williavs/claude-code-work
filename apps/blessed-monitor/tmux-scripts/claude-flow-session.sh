#!/bin/bash
# Claude Flow Development Session
# Generated by Claude Code Tmux Wizard

SESSION_NAME="claude-flow"
PROJECT_PATH="/home/wv3/claude-code-work"

# Kill existing session if it exists
tmux kill-session -t $SESSION_NAME 2>/dev/null

# Create new session with first window
tmux new-session -d -s $SESSION_NAME -n "Claude-Flow" -c "$PROJECT_PATH/claude-flow"

# Window 0: Claude Flow
tmux send-keys -t $SESSION_NAME:0 'npx claude-flow init' C-m

# Window 1: Tmux Orchestrator
tmux new-window -t $SESSION_NAME -n "Orchestrator" -c "$PROJECT_PATH/Tmux-Orchestrator"
tmux send-keys -t $SESSION_NAME:1 'claude' C-m

# Window 2: Blessed Monitor
tmux new-window -t $SESSION_NAME -n "Monitor" -c "$PROJECT_PATH"
tmux send-keys -t $SESSION_NAME:2 'cd apps/blessed-monitor && npm start' C-m

# Window 3: System Monitor
tmux new-window -t $SESSION_NAME -n "System" -c "$PROJECT_PATH"
tmux send-keys -t $SESSION_NAME:3 'htop' C-m

# Window 4: Browsh Browser
tmux new-window -t $SESSION_NAME -n "Browser" -c "$PROJECT_PATH"
tmux send-keys -t $SESSION_NAME:4 'browsh' C-m

# Enable mouse support
tmux set -g mouse on

# Attach to session
echo "âœ¨ Tmux session 'claude-flow' created!"
echo ""
echo "Windows:"
echo "  0: Claude-Flow - Claude Flow with 54 agents"
echo "  1: Orchestrator - Tmux Orchestrator"
echo "  2: Monitor - Event monitoring"
echo "  3: System - System resources"
echo "  4: Browser - Web browser in terminal"
echo ""
echo "Attaching to session..."
sleep 1

tmux attach-session -t $SESSION_NAME